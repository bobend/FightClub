@model FightClub.Models.Match

@{
    ViewBag.Title = "Prepare for battle!";
}

<script>
    var activeUser = "@ViewBag.ActiveUser";
</script>

<div class="container battle-prepare">
    <header>
        <div class="player-name player-1">@Model.User1</div>
        <div class="versus">VS</div>
        <div class="player-name player-2">@Model.User2</div>
    </header>
    <div class="avatar player-1"><img src="/content/assets/dist/img/bamse_avatar.png"></div>
    <div class="avatar player-2"><img src="/content/assets/dist/img/buu_avatar.png"></div>
    <div class="actions">
        <div class="header">
            <div>Round 1</div>
            <div>Round 2</div>
            <div>Round 3</div>
        </div>
        <div class="action-area">
            <div class="action"><button data-round="1" data-area="high" data-action="">HIGH</button></div>
            <div class="action"><button data-round="2" data-area="high" data-action="">HIGH</button></div>
            <div class="action"><button data-round="3" data-area="high" data-action="">HIGH</button></div>
        </div>
        <div class="action-area">
            <div class="action"><button data-round="1" data-area="mid" data-action="">MID</button></div>
            <div class="action"><button data-round="2" data-area="mid" data-action="">MID</button></div>
            <div class="action"><button data-round="3" data-area="mid" data-action="">MID</button></div>
        </div>
        <div class="action-area">
            <div class="action"><button data-round="1" data-area="low" data-action="">LOW</button></div>
            <div class="action"><button data-round="2" data-area="low" data-action="">LOW</button></div>
            <div class="action"><button data-round="3" data-area="low" data-action="">LOW</button></div>
        </div>
    </div>
    <button class="fight">Fight</button>
</div>

@using (Html.BeginForm(ViewBag.ActiveUser == "User1" ? "Create" : "Update","Match",FormMethod.Post, new { id = "battleform" }))
{
    @Html.HiddenFor(model => model.User1)
    @Html.HiddenFor(model => model.User2)
    @Html.HiddenFor(model => model.User1Id)
    @Html.HiddenFor(model => model.User2Id)
    if (ViewBag.ActiveUser == "User1")
    {
        @Html.HiddenFor(model => model.User1Move1)
        @Html.HiddenFor(model => model.User1Move2)
        @Html.HiddenFor(model => model.User1Move3)
    }
    else
    {
        @Html.HiddenFor(model => model.User2Move1)
        @Html.HiddenFor(model => model.User2Move2)
        @Html.HiddenFor(model => model.User2Move3)
        @Html.HiddenFor(model => model.Id)
    }

    <div class="form-horizontal">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    </div>
}


<script src="/content/assets/dist/js/prepare.js"></script>
